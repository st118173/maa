!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0,n=["accepts","cache","contents","contentType","crossDomain","data","dataType","headers","ifModified","mimeType","password","processData","timeout","traditional","type","url","username"],i=function(e){return e};e.ajaxSetup({converters:{"postmessage text":i,"postmessage json":i,"postmessage html":i}}),e.ajaxTransport("postmessage",function(i){if(i.postMessage&&window.postMessage){var r,o=e("<a>").prop("href",i.postMessage)[0],s=o.protocol+"//"+o.host,a=i.xhr().upload;return/^(http:\/\/.+:80)|(https:\/\/.+:443)$/.test(s)&&(s=s.replace(/:(80|443)$/,"")),{send:function(o,l){t+=1;var u={id:"postmessage-transport-"+t},d="message."+u.id;r=e('<iframe style="display:none;" src="'+i.postMessage+'" name="'+u.id+'"></iframe>').bind("load",function(){e.each(n,function(e,t){u[t]=i[t]}),u.dataType=u.dataType.replace("postmessage ",""),e(window).bind(d,function(t){t=t.originalEvent;var n,i=t.data;t.origin===s&&i.id===u.id&&("progress"===i.type?(n=document.createEvent("Event"),n.initEvent(i.type,!1,!0),e.extend(n,i),a.dispatchEvent(n)):(l(i.status,i.statusText,{postmessage:i.result},i.headers),r.remove(),e(window).unbind(d)))}),r[0].contentWindow.postMessage(u,s)}).appendTo(document.body)},abort:function(){r&&r.remove()}}}})});